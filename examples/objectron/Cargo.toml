[package]
name = "objectron"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
license.workspace = true
publish = false


[features]
default = []
web = ["re_ws_comms", "re_web_server", "tokio", "webbrowser"]


[dependencies]
re_log = { path = "../../crates/re_log" }
re_log_types = { path = "../../crates/re_log_types" }
re_viewer = { path = "../../crates/re_viewer" }

anyhow = "1"
clap = { version = "3.1.6", features = ["derive"] }
glam = "0.20" # to convert rotation matrices to quaternions
image = { version = "0.24", default-features = false, features = ["jpeg"] }
itertools = "0.10"
mimalloc = "0.1.29"
prost = "0.10"
tracing-subscriber = "0.3"

# Optional:
re_ws_comms = { path = "../../crates/re_ws_comms", optional = true, features = ["server"] }
re_web_server = { path = "../../crates/re_web_server", optional = true }
tokio = { version = "1.0.0", optional = true, default-features = false, features = [
    "io-std",
    "macros",
    "net",
    "rt-multi-thread",
    "sync",
    "time",
] }
webbrowser = {version = "0.7", optional = true }


# [build-dependencies]
# prost-build = "0.10"
