[workspace]
resolver = "2"
members = ["crates/*", "rerun_py", "run_wasm"]
[workspace.package]
version = "0.1.0"
edition = "2021"
rust-version = "1.65"
license = "MIT OR Apache-2.0"
homepage = "http://rerun.io"
readme = "README.md"
repository = "https://github.com/rerun-io/rerun"

[profile.dev]
opt-level = 1 # Make debug builds run faster

# Optimize all dependencies even in debug builds (does not affect workspace packages):
[profile.dev.package."*"]
opt-level = 2

[profile.release]
# debug = true # good for profilers

[profile.bench]
debug = true

[patch.crates-io]
# 2022-11-07 - update ahash and arboard
eframe = { git = "https://github.com/emilk/egui", rev = "940b896cbba39eb04757b975f81d9b80e7e198ed" }
egui = { git = "https://github.com/emilk/egui", rev = "940b896cbba39eb04757b975f81d9b80e7e198ed" }
egui_extras = { git = "https://github.com/emilk/egui", rev = "940b896cbba39eb04757b975f81d9b80e7e198ed" }
egui_glow = { git = "https://github.com/emilk/egui", rev = "940b896cbba39eb04757b975f81d9b80e7e198ed" }
egui-wgpu = { git = "https://github.com/emilk/egui", rev = "940b896cbba39eb04757b975f81d9b80e7e198ed" }

# eframe = { path = "../egui/crates/eframe" }
# egui = { path = "../egui/crates/egui" }
# egui_extras = { path = "../egui/crates/egui_extras" }
# egui_glow = { path = "../egui/crates/egui_glow" }
# egui-wgpu = { path = "../egui/crates/egui-wgpu" }

# Because gltf hasn't published a new version: https://github.com/gltf-rs/gltf/issues/357
gltf = { git = "https://github.com/rerun-io/gltf", rev = "3c14ded73755d1ce9e47010edb06db63cb7e2cca" }

# 2022-10-12 - Eq for DepthBiasState and DepthStencilState
wgpu = { git = "https://github.com/gfx-rs/wgpu.git", ref = "aed3b1ae59ee097901b852d934493c7ec167d344" }
wgpu-core = { git = "https://github.com/gfx-rs/wgpu.git", ref = "aed3b1ae59ee097901b852d934493c7ec167d344" }
