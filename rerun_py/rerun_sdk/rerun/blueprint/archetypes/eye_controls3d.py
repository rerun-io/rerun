# DO NOT EDIT! This file was auto-generated by crates/build/re_types_builder/src/codegen/python/mod.rs
# Based on "crates/store/re_sdk_types/definitions/rerun/blueprint/archetypes/eye_controls3d.fbs".

# You can extend this class by creating a "EyeControls3DExt" class in "eye_controls3d_ext.py".

from __future__ import annotations

from typing import Any

from attrs import define, field

from ... import components, datatypes
from ..._baseclasses import (
    Archetype,
)
from ...blueprint import components as blueprint_components
from ...error_utils import catch_and_log_exceptions

__all__ = ["EyeControls3D"]


@define(str=False, repr=False, init=False)
class EyeControls3D(Archetype):
    """
    **Archetype**: The controls for the 3D eye in a spatial 3D view.

    This configures the camera through which the 3D scene is viewed.

    ⚠️ **This type is _unstable_ and may change significantly in a way that the data won't be backwards compatible.**
    """

    def __init__(
        self: Any,
        *,
        kind: blueprint_components.Eye3DKindLike | None = None,
        position: datatypes.Vec3DLike | None = None,
        look_target: datatypes.Vec3DLike | None = None,
        eye_up: datatypes.Vec3DLike | None = None,
        speed: datatypes.Float64Like | None = None,
        tracking_entity: datatypes.EntityPathLike | None = None,
        spin_speed: datatypes.Float64Like | None = None,
    ) -> None:
        """
        Create a new instance of the EyeControls3D archetype.

        Parameters
        ----------
        kind:
            The kind of the eye for the spatial 3D view.

            This controls how the eye movement behaves when the user interact with the view.
            Defaults to orbital.
        position:
            The cameras current position.
        look_target:
            The position the camera is currently looking at.

            If this is an orbital camera, this also is the center it orbits around.

            By default this is the center of the scene bounds.
        eye_up:
            The up-axis of the eye itself, in world-space.

            Initially, the up-axis of the eye will be the same as the up-axis of the scene (or +Z if
            the scene has no up axis defined).
        speed:
            Translation speed of the eye in the view (when using WASDQE keys to move in the 3D scene).

            The default depends on the control kind.
            For orbit cameras it is derived from the distance to the orbit center.
            For first person cameras it is derived from the scene size.
        tracking_entity:
            Currently tracked entity.

            If this is a camera, it takes over the camera pose, otherwise follows the entity.
        spin_speed:
            What speed, if any, the camera should spin around the eye-up axis.

            Defaults to zero, meaning no spinning.

        """

        # You can define your own __init__ function as a member of EyeControls3DExt in eye_controls3d_ext.py
        with catch_and_log_exceptions(context=self.__class__.__name__):
            self.__attrs_init__(
                kind=kind,
                position=position,
                look_target=look_target,
                eye_up=eye_up,
                speed=speed,
                tracking_entity=tracking_entity,
                spin_speed=spin_speed,
            )
            return
        self.__attrs_clear__()

    def __attrs_clear__(self) -> None:
        """Convenience method for calling `__attrs_init__` with all `None`s."""
        self.__attrs_init__(
            kind=None,
            position=None,
            look_target=None,
            eye_up=None,
            speed=None,
            tracking_entity=None,
            spin_speed=None,
        )

    @classmethod
    def _clear(cls) -> EyeControls3D:
        """Produce an empty EyeControls3D, bypassing `__init__`."""
        inst = cls.__new__(cls)
        inst.__attrs_clear__()
        return inst

    @classmethod
    def from_fields(
        cls,
        *,
        clear_unset: bool = False,
        kind: blueprint_components.Eye3DKindLike | None = None,
        position: datatypes.Vec3DLike | None = None,
        look_target: datatypes.Vec3DLike | None = None,
        eye_up: datatypes.Vec3DLike | None = None,
        speed: datatypes.Float64Like | None = None,
        tracking_entity: datatypes.EntityPathLike | None = None,
        spin_speed: datatypes.Float64Like | None = None,
    ) -> EyeControls3D:
        """
        Update only some specific fields of a `EyeControls3D`.

        Parameters
        ----------
        clear_unset:
            If true, all unspecified fields will be explicitly cleared.
        kind:
            The kind of the eye for the spatial 3D view.

            This controls how the eye movement behaves when the user interact with the view.
            Defaults to orbital.
        position:
            The cameras current position.
        look_target:
            The position the camera is currently looking at.

            If this is an orbital camera, this also is the center it orbits around.

            By default this is the center of the scene bounds.
        eye_up:
            The up-axis of the eye itself, in world-space.

            Initially, the up-axis of the eye will be the same as the up-axis of the scene (or +Z if
            the scene has no up axis defined).
        speed:
            Translation speed of the eye in the view (when using WASDQE keys to move in the 3D scene).

            The default depends on the control kind.
            For orbit cameras it is derived from the distance to the orbit center.
            For first person cameras it is derived from the scene size.
        tracking_entity:
            Currently tracked entity.

            If this is a camera, it takes over the camera pose, otherwise follows the entity.
        spin_speed:
            What speed, if any, the camera should spin around the eye-up axis.

            Defaults to zero, meaning no spinning.

        """

        inst = cls.__new__(cls)
        with catch_and_log_exceptions(context=cls.__name__):
            kwargs = {
                "kind": kind,
                "position": position,
                "look_target": look_target,
                "eye_up": eye_up,
                "speed": speed,
                "tracking_entity": tracking_entity,
                "spin_speed": spin_speed,
            }

            if clear_unset:
                kwargs = {k: v if v is not None else [] for k, v in kwargs.items()}  # type: ignore[misc]

            inst.__attrs_init__(**kwargs)
            return inst

        inst.__attrs_clear__()
        return inst

    @classmethod
    def cleared(cls) -> EyeControls3D:
        """Clear all the fields of a `EyeControls3D`."""
        return cls.from_fields(clear_unset=True)

    kind: blueprint_components.Eye3DKindBatch | None = field(
        metadata={"component": True},
        default=None,
        converter=blueprint_components.Eye3DKindBatch._converter,  # type: ignore[misc]
    )
    # The kind of the eye for the spatial 3D view.
    #
    # This controls how the eye movement behaves when the user interact with the view.
    # Defaults to orbital.
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    position: components.Position3DBatch | None = field(
        metadata={"component": True},
        default=None,
        converter=components.Position3DBatch._converter,  # type: ignore[misc]
    )
    # The cameras current position.
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    look_target: components.Position3DBatch | None = field(
        metadata={"component": True},
        default=None,
        converter=components.Position3DBatch._converter,  # type: ignore[misc]
    )
    # The position the camera is currently looking at.
    #
    # If this is an orbital camera, this also is the center it orbits around.
    #
    # By default this is the center of the scene bounds.
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    eye_up: components.Vector3DBatch | None = field(
        metadata={"component": True},
        default=None,
        converter=components.Vector3DBatch._converter,  # type: ignore[misc]
    )
    # The up-axis of the eye itself, in world-space.
    #
    # Initially, the up-axis of the eye will be the same as the up-axis of the scene (or +Z if
    # the scene has no up axis defined).
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    speed: components.LinearSpeedBatch | None = field(
        metadata={"component": True},
        default=None,
        converter=components.LinearSpeedBatch._converter,  # type: ignore[misc]
    )
    # Translation speed of the eye in the view (when using WASDQE keys to move in the 3D scene).
    #
    # The default depends on the control kind.
    # For orbit cameras it is derived from the distance to the orbit center.
    # For first person cameras it is derived from the scene size.
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    tracking_entity: components.EntityPathBatch | None = field(
        metadata={"component": True},
        default=None,
        converter=components.EntityPathBatch._converter,  # type: ignore[misc]
    )
    # Currently tracked entity.
    #
    # If this is a camera, it takes over the camera pose, otherwise follows the entity.
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    spin_speed: blueprint_components.AngularSpeedBatch | None = field(
        metadata={"component": True},
        default=None,
        converter=blueprint_components.AngularSpeedBatch._converter,  # type: ignore[misc]
    )
    # What speed, if any, the camera should spin around the eye-up axis.
    #
    # Defaults to zero, meaning no spinning.
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    __str__ = Archetype.__str__
    __repr__ = Archetype.__repr__  # type: ignore[assignment]
