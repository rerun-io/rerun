# DO NOT EDIT! This file was auto-generated by crates/build/re_types_builder/src/codegen/python/mod.rs
# Based on "crates/store/re_types/definitions/rerun/blueprint/datatypes/text_log_column_list.fbs".

# You can extend this class by creating a "TextLogColumnListExt" class in "text_log_column_list_ext.py".

from __future__ import annotations

from collections.abc import Sequence
from typing import TYPE_CHECKING, Any

import pyarrow as pa
from attrs import define, field

from ..._baseclasses import (
    BaseBatch,
)

if TYPE_CHECKING:
    from ... import datatypes

__all__ = ["TextLogColumnList", "TextLogColumnListArrayLike", "TextLogColumnListBatch", "TextLogColumnListLike"]


@define(init=False)
class TextLogColumnList:
    """
    **Datatype**: A list of text log columns.

    ⚠️ **This type is _unstable_ and may change significantly in a way that the data won't be backwards compatible.**
    """

    def __init__(self: Any, text_log_columns: TextLogColumnListLike) -> None:
        """
        Create a new instance of the TextLogColumnList datatype.

        Parameters
        ----------
        text_log_columns:
            All columns to be displayed.

        """

        # You can define your own __init__ function as a member of TextLogColumnListExt in text_log_column_list_ext.py
        self.__attrs_init__(text_log_columns=text_log_columns)

    text_log_columns: list[datatypes.TextLogColumn] = field()
    # All columns to be displayed.
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    def __len__(self) -> int:
        # You can define your own __len__ function as a member of TextLogColumnListExt in text_log_column_list_ext.py
        return len(self.text_log_columns)


TextLogColumnListLike = TextLogColumnList
"""A type alias for any TextLogColumnList-like object."""

TextLogColumnListArrayLike = TextLogColumnList | Sequence[TextLogColumnListLike]
"""A type alias for any TextLogColumnList-like array object."""


class TextLogColumnListBatch(BaseBatch[TextLogColumnListArrayLike]):
    _ARROW_DATATYPE = pa.struct([
        pa.field(
            "text_log_columns",
            pa.list_(
                pa.field(
                    "item",
                    pa.dense_union([
                        pa.field("_null_markers", pa.null(), nullable=True, metadata={}),
                        pa.field("Timeline", pa.utf8(), nullable=False, metadata={}),
                        pa.field("EntityPath", pa.null(), nullable=True, metadata={}),
                        pa.field("LogLevel", pa.null(), nullable=True, metadata={}),
                        pa.field("Body", pa.null(), nullable=True, metadata={}),
                    ]),
                    nullable=True,
                    metadata={},
                )
            ),
            nullable=False,
            metadata={},
        )
    ])

    @staticmethod
    def _native_to_pa_array(data: TextLogColumnListArrayLike, data_type: pa.DataType) -> pa.Array:
        raise NotImplementedError(
            "Arrow serialization of TextLogColumnList not implemented: We lack codegen for arrow-serialization of general structs"
        )  # You need to implement native_to_pa_array_override in text_log_column_list_ext.py
