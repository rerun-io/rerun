# DO NOT EDIT! This file was auto-generated by crates/build/re_types_builder/src/codegen/python/mod.rs
# Based on "crates/store/re_types/definitions/rerun/blueprint/datatypes/text_log_column_list.fbs".

# You can extend this class by creating a "TextLogColumnListExt" class in "text_log_column_list_ext.py".

from __future__ import annotations

from collections.abc import Sequence
from typing import TYPE_CHECKING, Any

import pyarrow as pa
from attrs import define, field

from ..._baseclasses import (
    BaseBatch,
)
from .text_log_column_list_ext import TextLogColumnListExt

__all__ = ["TextLogColumnList", "TextLogColumnListArrayLike", "TextLogColumnListBatch", "TextLogColumnListLike"]


@define(init=False)
class TextLogColumnList(TextLogColumnListExt):
    """
    **Datatype**: A list of text log columns.

    ⚠️ **This type is _unstable_ and may change significantly in a way that the data won't be backwards compatible.**
    """

    def __init__(self: Any, text_log_columns: TextLogColumnListLike) -> None:
        """
        Create a new instance of the TextLogColumnList datatype.

        Parameters
        ----------
        text_log_columns:
            All columns to be displayed.

        """

        # You can define your own __init__ function as a member of TextLogColumnListExt in text_log_column_list_ext.py
        self.__attrs_init__(text_log_columns=text_log_columns)

    text_log_columns: list[blueprint_datatypes.TextLogColumn] = field(
        converter=TextLogColumnListExt.text_log_columns__field_converter_override,  # type: ignore[misc]
    )
    # All columns to be displayed.
    #
    # (Docstring intentionally commented out to hide this field from the docs)

    def __len__(self) -> int:
        # You can define your own __len__ function as a member of TextLogColumnListExt in text_log_column_list_ext.py
        return len(self.text_log_columns)


if TYPE_CHECKING:
    from ...blueprint import datatypes as blueprint_datatypes

    TextLogColumnListLike = TextLogColumnList | Sequence[blueprint_datatypes.TextLogColumnLike]
    """A type alias for any TextLogColumnList-like object."""
else:
    TextLogColumnListLike = Any

TextLogColumnListArrayLike = TextLogColumnList | Sequence[TextLogColumnListLike]
"""A type alias for any TextLogColumnList-like array object."""


class TextLogColumnListBatch(BaseBatch[TextLogColumnListArrayLike]):
    _ARROW_DATATYPE = pa.struct([
        pa.field(
            "text_log_columns",
            pa.list_(
                pa.field(
                    "item",
                    pa.struct([
                        pa.field("visible", pa.bool_(), nullable=False, metadata={}),
                        pa.field("kind", pa.uint8(), nullable=False, metadata={}),
                    ]),
                    nullable=False,
                    metadata={},
                )
            ),
            nullable=False,
            metadata={},
        )
    ])

    @staticmethod
    def _native_to_pa_array(data: TextLogColumnListArrayLike, data_type: pa.DataType) -> pa.Array:
        return TextLogColumnListExt.native_to_pa_array_override(data, data_type)
