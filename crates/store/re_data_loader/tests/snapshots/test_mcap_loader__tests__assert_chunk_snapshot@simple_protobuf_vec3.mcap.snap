---
source: crates/store/re_data_loader/tests/test_mcap_loader.rs
expression: clean_chunks
input_file: crates/store/re_data_loader/tests/assets/simple_protobuf_vec3.mcap
---
[
    Chunk {
        id: ChunkId(
            0000000000661EFDf2e3b19f7c045f15,
        ),
        entity_path: /__properties,
        heap_size_bytes: 384,
        is_sorted: true,
        row_ids: FixedSizeBinaryArray<16>
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        ],
        timelines: {},
        components: ChunkComponents(
            {
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.RecordingInfo",
                    ),
                    component: "RecordingInfo:start_time",
                    component_type: Some(
                        "rerun.components.Timestamp",
                    ),
                }: ListArray
                [
                  PrimitiveArray<Int64>
                [
                  1000000000,
                ],
                ],
            },
        ),
    },
    Chunk {
        id: ChunkId(
            0000000000661EFDf2e3b19f7c045f15,
        ),
        entity_path: /__properties,
        heap_size_bytes: 2968,
        is_sorted: true,
        row_ids: FixedSizeBinaryArray<16>
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        ],
        timelines: {},
        components: ChunkComponents(
            {
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:message_count",
                    component_type: Some(
                        "rerun.components.Count",
                    ),
                }: ListArray
                [
                  PrimitiveArray<UInt64>
                [
                  5,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:message_end_time",
                    component_type: Some(
                        "rerun.components.Timestamp",
                    ),
                }: ListArray
                [
                  PrimitiveArray<Int64>
                [
                  1400000000,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:metadata_count",
                    component_type: Some(
                        "rerun.components.Count",
                    ),
                }: ListArray
                [
                  PrimitiveArray<UInt64>
                [
                  0,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:channel_message_counts",
                    component_type: Some(
                        "rerun.components.ChannelMessageCounts",
                    ),
                }: ListArray
                [
                  ListArray
                [
                  StructArray
                -- validity:
                [
                  valid,
                ]
                [
                -- child 0: "channel_id" (UInt16)
                PrimitiveArray<UInt16>
                [
                  1,
                ]
                -- child 1: "message_count" (UInt64)
                PrimitiveArray<UInt64>
                [
                  5,
                ]
                ],
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:channel_count",
                    component_type: Some(
                        "rerun.components.Count",
                    ),
                }: ListArray
                [
                  PrimitiveArray<UInt64>
                [
                  1,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:chunk_count",
                    component_type: Some(
                        "rerun.components.Count",
                    ),
                }: ListArray
                [
                  PrimitiveArray<UInt64>
                [
                  1,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:attachment_count",
                    component_type: Some(
                        "rerun.components.Count",
                    ),
                }: ListArray
                [
                  PrimitiveArray<UInt64>
                [
                  0,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:message_start_time",
                    component_type: Some(
                        "rerun.components.Timestamp",
                    ),
                }: ListArray
                [
                  PrimitiveArray<Int64>
                [
                  1000000000,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapStatistics",
                    ),
                    component: "McapStatistics:schema_count",
                    component_type: Some(
                        "rerun.components.Count",
                    ),
                }: ListArray
                [
                  PrimitiveArray<UInt64>
                [
                  1,
                ],
                ],
            },
        ),
    },
    Chunk {
        id: ChunkId(
            0000000000661EFDf2e3b19f7c045f15,
        ),
        entity_path: /test/points,
        heap_size_bytes: 25664,
        is_sorted: true,
        row_ids: FixedSizeBinaryArray<16>
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        ],
        timelines: {
            "log_time": TimeColumn {
                timeline: Timeline {
                    name: "log_time",
                    typ: TimestampNs,
                },
                times: ScalarBuffer(
                    [
                        1000000000,
                        1100000000,
                        1200000000,
                        1300000000,
                        1400000000,
                    ],
                ),
                is_sorted: true,
                time_range: AbsoluteTimeRange {
                    min: TimeInt(1 000 000 000),
                    max: TimeInt(1 400 000 000),
                },
            },
            "publish_time": TimeColumn {
                timeline: Timeline {
                    name: "publish_time",
                    typ: TimestampNs,
                },
                times: ScalarBuffer(
                    [
                        1000000000,
                        1100000000,
                        1200000000,
                        1300000000,
                        1400000000,
                    ],
                ),
                is_sorted: true,
                time_range: AbsoluteTimeRange {
                    min: TimeInt(1 000 000 000),
                    max: TimeInt(1 400 000 000),
                },
            },
        },
        components: ChunkComponents(
            {
                ComponentDescriptor {
                    archetype: Some(
                        "Vec3",
                    ),
                    component: "Vec3:y",
                    component_type: None,
                }: ListArray
                [
                  PrimitiveArray<Float64>
                [
                  2.0,
                ],
                  PrimitiveArray<Float64>
                [
                  5.0,
                ],
                  PrimitiveArray<Float64>
                [
                  8.0,
                ],
                  PrimitiveArray<Float64>
                [
                  11.0,
                ],
                  PrimitiveArray<Float64>
                [
                  14.0,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "Vec3",
                    ),
                    component: "Vec3:x",
                    component_type: None,
                }: ListArray
                [
                  PrimitiveArray<Float64>
                [
                  1.0,
                ],
                  PrimitiveArray<Float64>
                [
                  4.0,
                ],
                  PrimitiveArray<Float64>
                [
                  7.0,
                ],
                  PrimitiveArray<Float64>
                [
                  10.0,
                ],
                  PrimitiveArray<Float64>
                [
                  13.0,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "Vec3",
                    ),
                    component: "Vec3:z",
                    component_type: None,
                }: ListArray
                [
                  PrimitiveArray<Float64>
                [
                  3.0,
                ],
                  PrimitiveArray<Float64>
                [
                  6.0,
                ],
                  PrimitiveArray<Float64>
                [
                  9.0,
                ],
                  PrimitiveArray<Float64>
                [
                  12.0,
                ],
                  PrimitiveArray<Float64>
                [
                  15.0,
                ],
                ],
            },
        ),
    },
    Chunk {
        id: ChunkId(
            0000000000661EFDf2e3b19f7c045f15,
        ),
        entity_path: /test/points,
        heap_size_bytes: 1760,
        is_sorted: true,
        row_ids: FixedSizeBinaryArray<16>
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        ],
        timelines: {
            "log_time": TimeColumn {
                timeline: Timeline {
                    name: "log_time",
                    typ: TimestampNs,
                },
                times: ScalarBuffer(
                    [
                        1000000000,
                        1100000000,
                        1200000000,
                        1300000000,
                        1400000000,
                    ],
                ),
                is_sorted: true,
                time_range: AbsoluteTimeRange {
                    min: TimeInt(1 000 000 000),
                    max: TimeInt(1 400 000 000),
                },
            },
            "publish_time": TimeColumn {
                timeline: Timeline {
                    name: "publish_time",
                    typ: TimestampNs,
                },
                times: ScalarBuffer(
                    [
                        1000000000,
                        1100000000,
                        1200000000,
                        1300000000,
                        1400000000,
                    ],
                ),
                is_sorted: true,
                time_range: AbsoluteTimeRange {
                    min: TimeInt(1 000 000 000),
                    max: TimeInt(1 400 000 000),
                },
            },
        },
        components: ChunkComponents(
            {
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapMessage",
                    ),
                    component: "McapMessage:data",
                    component_type: Some(
                        "rerun.components.Blob",
                    ),
                }: ListArray
                [
                  ListArray
                [
                  PrimitiveArray<UInt8>
                [
                  9,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  240,
                  63,
                  17,
                  ...7 elements...,
                  64,
                  25,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  8,
                  64,
                ],
                ],
                  ListArray
                [
                  PrimitiveArray<UInt8>
                [
                  9,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  16,
                  64,
                  17,
                  ...7 elements...,
                  64,
                  25,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  24,
                  64,
                ],
                ],
                  ListArray
                [
                  PrimitiveArray<UInt8>
                [
                  9,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  28,
                  64,
                  17,
                  ...7 elements...,
                  64,
                  25,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  34,
                  64,
                ],
                ],
                  ListArray
                [
                  PrimitiveArray<UInt8>
                [
                  9,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  36,
                  64,
                  17,
                  ...7 elements...,
                  64,
                  25,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  40,
                  64,
                ],
                ],
                  ListArray
                [
                  PrimitiveArray<UInt8>
                [
                  9,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  42,
                  64,
                  17,
                  ...7 elements...,
                  64,
                  25,
                  0,
                  0,
                  0,
                  0,
                  0,
                  0,
                  46,
                  64,
                ],
                ],
                ],
            },
        ),
    },
    Chunk {
        id: ChunkId(
            0000000000661EFDf2e3b19f7c045f15,
        ),
        entity_path: /test/points,
        heap_size_bytes: 2746,
        is_sorted: true,
        row_ids: FixedSizeBinaryArray<16>
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        ],
        timelines: {},
        components: ChunkComponents(
            {
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapSchema",
                    ),
                    component: "McapSchema:encoding",
                    component_type: Some(
                        "rerun.components.Text",
                    ),
                }: ListArray
                [
                  StringArray
                [
                  "protobuf",
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapChannel",
                    ),
                    component: "McapChannel:metadata",
                    component_type: Some(
                        "rerun.components.KeyValuePairs",
                    ),
                }: ListArray
                [
                  ListArray
                [
                  StructArray
                -- validity:
                [
                ]
                [
                -- child 0: "first" (Utf8)
                StringArray
                [
                ]
                -- child 1: "second" (Utf8)
                StringArray
                [
                ]
                ],
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapSchema",
                    ),
                    component: "McapSchema:name",
                    component_type: Some(
                        "rerun.components.Text",
                    ),
                }: ListArray
                [
                  StringArray
                [
                  "Vec3",
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapChannel",
                    ),
                    component: "McapChannel:message_encoding",
                    component_type: Some(
                        "rerun.components.Text",
                    ),
                }: ListArray
                [
                  StringArray
                [
                  "protobuf",
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapSchema",
                    ),
                    component: "McapSchema:data",
                    component_type: Some(
                        "rerun.components.Blob",
                    ),
                }: ListArray
                [
                  ListArray
                [
                  PrimitiveArray<UInt8>
                [
                  10,
                  159,
                  2,
                  10,
                  17,
                  115,
                  105,
                  109,
                  112,
                  108,
                  ...270 elements...,
                  15,
                  16,
                  98,
                  6,
                  112,
                  114,
                  111,
                  116,
                  111,
                  51,
                ],
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapChannel",
                    ),
                    component: "McapChannel:topic",
                    component_type: Some(
                        "rerun.components.Text",
                    ),
                }: ListArray
                [
                  StringArray
                [
                  "/test/points",
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapSchema",
                    ),
                    component: "McapSchema:id",
                    component_type: Some(
                        "rerun.components.SchemaId",
                    ),
                }: ListArray
                [
                  PrimitiveArray<UInt16>
                [
                  1,
                ],
                ],
                ComponentDescriptor {
                    archetype: Some(
                        "rerun.archetypes.McapChannel",
                    ),
                    component: "McapChannel:id",
                    component_type: Some(
                        "rerun.components.ChannelId",
                    ),
                }: ListArray
                [
                  PrimitiveArray<UInt16>
                [
                  1,
                ],
                ],
            },
        ),
    },
]
