[package]
name = "re_log_types"
version = "0.1.0"
edition = "2021"
rust-version = "1.63"
license = "MIT OR Apache-2.0"
publish = false


[features]
default = []

# Enable loading data from a file
load = ["anyhow", "rmp-serde", "serde", "zstd", "ruzstd"]

# Enable saving data to a file
save = ["anyhow", "rmp-serde", "serde", "zstd"]

# Enable (de)serialization using serde.
serde = ["dep:serde", "re_string_interner/serde"]


[dependencies]
ahash = "0.7"
bytemuck = "1.11"
chrono = { version = "0.4", features = ["js-sys", "wasmbind"] }
nohash-hasher = "0.2"
re_string_interner = { path = "../re_string_interner" }
uuid = { version = "1.1", features = ["serde", "v4", "js"] }

# Optional:
anyhow = { version = "1", optional = true }
rmp-serde = { version = "1", optional = true }
serde = { version = "1", features = ["derive", "rc"], optional = true }

# Native:
[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
zstd = { version = "0.10.0", optional = true } # native only

# Web:
[target.'cfg(target_arch = "wasm32")'.dependencies]
ruzstd = { version = "0.2.4", optional = true } # works on wasm
